{"version":3,"sources":["redux/constants/index.js","components/Search.jsx","components/Header.jsx","redux/actions/user-actions.js","components/Footer.jsx","redux/actions/product-actions.js","components/Rating.jsx","components/Product.jsx","components/Loader.jsx","components/Message.jsx","components/Paginate.jsx","components/TopProducts.jsx","views/home-view.jsx","views/product-view.jsx","redux/actions/cart-actions.js","views/cart-view.jsx","components/FormContainer.jsx","views/login-view.jsx","views/register-view.jsx","views/profile-view.jsx","redux/actions/order-actions.js","components/CheckoutSteps.jsx","views/shipping-view.jsx","views/payment-view.jsx","views/place-order-view.jsx","views/order-screen.jsx","views/admin/users-view.jsx","views/admin/user-edit.jsx","views/admin/products-view.jsx","views/admin/product-edit.jsx","views/admin/orders-view.jsx","App.jsx","reportWebVitals.js","redux/reducers/order-reducers.js","redux/store.js","redux/reducers/product-reducers.js","redux/reducers/cart-reducers.js","redux/reducers/user-reducers.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_ERROR","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_ERROR","PRODUCT_DETAILS_RESET","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_ERROR","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_ERROR","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_ERROR","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_ERROR","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_ERROR","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_ERROR","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_ERROR","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_ERROR","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_ERROR","ORDER_PAY_RESET","ORDERS_USER_REQUEST","ORDERS_USER_SUCCESS","ORDERS_USER_ERROR","Search","useState","keyword","setKeyword","history","useHistory","Form","onSubmit","e","preventDefault","trim","push","inline","Control","type","name","value","onChange","target","placeholder","className","Button","variant","Header","dispatch","useDispatch","userDetails","useSelector","state","user","userLogout","sessionStorage","setItem","window","location","pathname","Navbar","bg","expand","collapseOnSelect","Container","Brand","as","Link","to","Toggle","aria-controls","Collapse","id","Nav","NavDropdown","title","Item","onClick","isAdmin","Footer","Row","Col","listProducts","pageNumber","a","axios","get","data","payload","message","response","Rating","text","color","style","defaultProps","Product","product","Card","_id","Img","src","image","Body","Title","Text","rating","numReviews","price","Loader","Spinner","animation","role","width","height","margin","display","Message","children","noMargin","marginBottom","Alert","Paginate","pages","page","Pagination","Array","keys","map","x","linkHandler","innerText","active","TopProducts","loading","setLoading","error","setError","products","setProducts","useEffect","then","res","catch","err","Carousel","interval","alt","Caption","Home","match","params","productList","sm","md","lg","xl","qty","setQty","comment","review","setReview","useParams","productDetails","productReviewCreate","crSuccess","success","crError","getProductDetails","addToCart","reviewForm","productId","getState","reqConfig","headers","token","post","createProductReview","Image","fluid","ListGroup","description","countInStock","alignItems","disabled","marginTop","reviews","length","rev","padding","createdAt","substring","paddingTop","Group","controlId","Label","row","cartItems","JSON","stringify","cart","Cart","search","Number","split","removeFromCartHandler","removeFromCart","item","rounded","reduce","acc","FormContainer","xs","Login","email","setEmail","password","setPassword","redirect","signIn","login","Register","setName","confirmPass","setConfirmPass","clientErr","setClientErr","signUp","register","Profile","orders","ordersLoading","ordersError","updateProfile","put","update","Table","bordered","responsive","order","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","CheckoutSteps","step1","step2","step3","step4","Shipping","address","city","postalCode","country","shipping","setShipping","shippingAddress","required","Payment","paymentMethod","setPaymentMethod","payment","Check","label","checked","PlaceOrder","itemsPrice","shippingPrice","taxPrice","toFixed","orderCreate","fontWeight","index","createOrder","Order","orderId","sdkReady","setSdkReady","orderDetails","orderPay","loadingPay","successPay","orderItems","paypal","addPayPalScript","clientId","script","document","createElement","async","onload","body","appendChild","successPaymentHandler","paymentResult","console","log","payOrder","amount","onSuccess","Users","usersList","users","userDelete","deleteUserHandler","userId","confirm","delete","UserEdit","setIsAdmin","setSuccess","Authorization","updateHandler","Products","productDelete","deleteLoading","deleteError","createError","setCreateError","deleteProductHandler","deleteProduct","category","brand","ProductEdit","setProduct","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","config","File","custom","Orders","setOrders","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","orderDetailsInitState","reducer","combineReducers","action","itemAlreadyInCart","find","filter","cartItemsFromSessionStorage","getItem","parse","userFromSessionStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5bf62c92.chunk.js","sourcesContent":["/* eslint-disable */\r\n\r\n// PRODUCTS ACTIONS\r\nexport const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_ERROR = 'PRODUCT_LIST_ERROR'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_ERROR = 'PRODUCT_DETAILS_ERROR'\r\nexport const PRODUCT_DETAILS_RESET = 'PRODUCT_DETAILS_RESET'\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST'\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS'\r\nexport const PRODUCT_DELETE_ERROR = 'PRODUCT_DELETE_ERROR'\r\n\r\n// CART ACTIONS\r\nexport const CART_ADD_ITEM = 'CART_ADD_ITEM'\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS'\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD'\r\n\r\n// USER ACTIONS\r\nexport const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_ERROR = 'USER_LOGIN_ERROR'\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_ERROR = 'USER_REGISTER_ERROR'\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_ERROR = 'USER_UPDATE_ERROR'\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST'\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS'\r\nexport const USER_LIST_ERROR = 'USER_LIST_ERROR'\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST'\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS'\r\nexport const USER_DELETE_ERROR = 'USER_DELETE_ERROR'\r\n\r\n// ORDER ACTIONS \r\nexport const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST'\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS'\r\nexport const ORDER_CREATE_ERROR = 'ORDER_CREATE_ERROR'\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST'\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS'\r\nexport const ORDER_DETAILS_ERROR = 'ORDER_DETAILS_ERROR'\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST'\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS'\r\nexport const ORDER_PAY_ERROR = 'ORDER_PAY_ERROR'\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET'\r\n\r\nexport const ORDERS_USER_REQUEST = 'ORDER_USER_REQUEST'\r\nexport const ORDERS_USER_SUCCESS = 'ORDER_USER_SUCCESS'\r\nexport const ORDERS_USER_ERROR = 'ORDER_USER_ERROR'\r\n\r\nexport const ORDERS_ADMIN_REQUEST = 'ORDER_ADMIN_REQUEST'\r\nexport const ORDERS_ADMIN_SUCCESS = 'ORDER_ADMIN_SUCCESS'\r\nexport const ORDERS_ADMIN_ERROR = 'ORDER_ADMIN_ERROR'","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst Search = () => {\r\n  const [keyword, setKeyword] = useState('')\r\n  let history = useHistory()\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault()\r\n    if (keyword.trim()) history.push(`/search/${keyword}`)\r\n    else history.push('/')\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={submitHandler} inline>\r\n      <Form.Control\r\n        type='text'\r\n        name='q'\r\n        value={keyword}\r\n        onChange={e => setKeyword(e.target.value)}\r\n        placeholder='Search...'\r\n        className='mr-sm-2'\r\n      ></Form.Control>\r\n      <Button type='submit' variant='light' className='p-2'>\r\n        <i className='fas fa-search'></i>\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { logout } from '../redux/actions/user-actions'\r\n\r\n// Components\r\nimport Search from './Search'\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch()\r\n  const { userDetails } = useSelector(state => state.user)\r\n\r\n  const userLogout = () => {\r\n    dispatch(logout())\r\n    window.location.pathname = '/'\r\n  }\r\n\r\n  const renderSignIn = () => {\r\n    if (userDetails) {\r\n      return (\r\n        <NavDropdown\r\n          title={\r\n            <span>\r\n              <i className='fas fa-user'></i> {userDetails.name}\r\n            </span>\r\n          }\r\n          id='username'\r\n        >\r\n          <NavDropdown.Item as={Link} to='/profile'>\r\n            Profile\r\n          </NavDropdown.Item>\r\n          <NavDropdown.Item onClick={userLogout}>Logout</NavDropdown.Item>\r\n        </NavDropdown>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Nav.Link as={Link} to='/login'>\r\n        <i className='fas fa-user'></i> Sign In\r\n      </Nav.Link>\r\n    )\r\n  }\r\n\r\n  const renderAdmin = () => {\r\n    if (userDetails && userDetails.isAdmin) {\r\n      return (\r\n        <NavDropdown title='Admin' id='admin'>\r\n          <NavDropdown.Item as={Link} to='/admin/users'>\r\n            User List\r\n          </NavDropdown.Item>\r\n          <NavDropdown.Item as={Link} to='/admin/products'>\r\n            Product List\r\n          </NavDropdown.Item>\r\n          <NavDropdown.Item as={Link} to='/admin/orders'>\r\n            Order List\r\n          </NavDropdown.Item>\r\n        </NavDropdown>\r\n      )\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <Navbar bg='light' expand='lg' collapseOnSelect>\r\n        <Container>\r\n          <Navbar.Brand as={Link} to='/'>\r\n            My Mechs\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n\r\n          <Navbar.Collapse id='basic-navbar-nav'>\r\n            <Search />\r\n            <Nav className='ml-auto'>\r\n              <Nav.Link as={Link} to='/cart'>\r\n                <i className='fas fa-shopping-cart'></i> Cart\r\n              </Nav.Link>\r\n              {renderSignIn()}\r\n              {renderAdmin()}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import axios from 'axios'\r\nimport {\r\n  USER_LOGIN_ERROR,\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_ERROR,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_ERROR,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_ERROR,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DELETE_ERROR\r\n} from '../constants'\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: USER_LOGIN_REQUEST })\r\n    const reqConfig = { headers: { 'Content-Type': 'application/json' } }\r\n    const { data } = await axios.post('/api/users/login', { email, password }, reqConfig)\r\n    sessionStorage.setItem('userDetails', JSON.stringify(data))\r\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message ? err.response.data.message : err.message\r\n    dispatch({ type: USER_LOGIN_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: USER_REGISTER_REQUEST })\r\n    const reqConfig = { headers: { 'Content-Type': 'application/json' } }\r\n    const { data } = await axios.post('/api/users', { name, email, password }, reqConfig)\r\n    sessionStorage.setItem('userDetails', JSON.stringify(data))\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message ? err.response.data.message : err.message\r\n    dispatch({ type: USER_REGISTER_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const update = (name, email, password) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_UPDATE_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.put(`/api/users/profile`, { name, email, password }, reqConfig)\r\n    sessionStorage.setItem('userDetails', JSON.stringify(data))\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message ? err.response.data.message : err.message\r\n    dispatch({ type: USER_UPDATE_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n  sessionStorage.setItem('userDetails', null)\r\n  sessionStorage.setItem('shippingAddress', null)\r\n  sessionStorage.setItem('paymentMethod', null)\r\n  dispatch({ type: USER_LOGOUT })\r\n}\r\n\r\nexport const getUsers = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_LIST_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.get('/api/users', reqConfig)\r\n    dispatch({ type: USER_LIST_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: USER_LIST_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const deleteUser = userId => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_DELETE_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    await axios.delete(`/api/users/${userId}`, reqConfig)\r\n    dispatch({ type: USER_DELETE_SUCCESS })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: USER_DELETE_ERROR, payload: message })\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <Container>\r\n        <Row>\r\n          <Col className='text-center mb-4'>&copy; M.IRWIN</Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import axios from 'axios'\r\nimport {\r\n  PRODUCT_DELETE_ERROR,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DETAILS_ERROR,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_LIST_ERROR,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS\r\n} from '../constants'\r\n\r\nexport const listProducts = (keyword = '', pageNumber = '') => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST })\r\n    const { data } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`)\r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message ? err.response.data.message : err.message\r\n    dispatch({ type: PRODUCT_LIST_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const getProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n    const { data } = await axios.get(`/api/products/${id}`)\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message ? err.response.data.message : err.message\r\n    dispatch({ type: PRODUCT_DETAILS_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    await axios.delete(`/api/products/${id}`, reqConfig)\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: PRODUCT_DELETE_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const createProductReview = (productId, review) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: 'PRODUCT_REVIEW_CREATE_REQUEST' })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n\r\n    await axios.post(`/api/products/${productId}/reviews`, review, reqConfig)\r\n    dispatch({ type: 'PRODUCT_REVIEW_CREATE_SUCCESS' })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: 'PRODUCT_REVIEW_CREATE_ERROR', payload: message })\r\n  }\r\n}","import React from 'react'\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n  return (\r\n    <div className='rating'>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 1\r\n              ? 'fas fa-star'\r\n              : value >= 0.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 2\r\n              ? 'fas fa-star'\r\n              : value >= 1.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 3\r\n              ? 'fas fa-star'\r\n              : value >= 2.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 4\r\n              ? 'fas fa-star'\r\n              : value >= 3.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 5\r\n              ? 'fas fa-star'\r\n              : value >= 4.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span> {text}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nRating.defaultProps = {\r\n  color: '#f8e825',\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport { Card } from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\n\r\nconst Product = ({ product }) => {\r\n  return (\r\n    <Card className='my-3 p-3 rounded'>\r\n      <Link to={`/product/${product._id}`}>\r\n        <Card.Img src={product.image} variant='top' />\r\n      </Link>\r\n\r\n      <Card.Body>\r\n        <Link to={`/product/${product._id}`}>\r\n          <Card.Title as='div'>\r\n            <strong>{product.name}</strong>\r\n          </Card.Title>\r\n        </Link>\r\n\r\n        <Card.Text as='div'>\r\n          <Rating\r\n            value={product.rating}\r\n            text={`${product.numReviews} reviews`}\r\n          />\r\n        </Card.Text>\r\n\r\n        <Card.Text as='h3'>${product.price}</Card.Text>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.object,\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Spinner\r\n      animation='border'\r\n      role='status'\r\n      style={{\r\n        width: '100px',\r\n        height: '100px',\r\n        margin: '100px auto',\r\n        display: 'block',\r\n      }}\r\n    >\r\n      <span className='sr-only'>Loading...</span>\r\n    </Spinner>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nconst Message = ({ variant, children, noMargin }) => {\r\n  const style = noMargin ? { marginBottom: '0px' } : null\r\n  return (\r\n    <Alert variant={variant} style={style}>\r\n      {children}\r\n    </Alert>\r\n  )\r\n}\r\n\r\nMessage.defaultProps = {\r\n  variant: 'info',\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Pagination } from 'react-bootstrap'\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n  let history = useHistory()\r\n\r\n  const linkHandler = page => {\r\n    if (isAdmin) {\r\n      return history.push(`/admin/products/${page}`)\r\n    }\r\n\r\n    if (keyword) {\r\n      history.push(`/search/${keyword}/page/${page}`)\r\n    } else {\r\n      history.push(`/page/${page}`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    pages > 1 && (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map(x => (\r\n          <Pagination.Item\r\n            key={x + 1}\r\n            onClick={e => linkHandler(e.target.innerText)}\r\n            active={x + 1 === page}\r\n          >\r\n            {x + 1}\r\n          </Pagination.Item>\r\n        ))}\r\n      </Pagination>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Paginate\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport { Carousel } from 'react-bootstrap'\r\n\r\n// Components\r\nimport Loader from './Loader'\r\nimport Message from './Message'\r\n\r\nconst TopProducts = () => {\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState()\r\n  const [products, setProducts] = useState([])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/products/top-rated')\r\n      .then(res => {\r\n        setLoading(false)\r\n        setProducts(res.data)\r\n      })\r\n      .catch(err => {\r\n        setLoading(false)\r\n        setError(err.message)\r\n      })\r\n  }, [])\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : error ? (\r\n    <Message variant='danger'>{error}</Message>\r\n  ) : (\r\n    <Carousel interval={null}>\r\n      {products.map(product => (\r\n        <Carousel.Item key={product._id}>\r\n          <Link to={`/product/${product._id}`}>\r\n            <img src={product.image} alt={product.name} className='d-block' />\r\n            <Carousel.Caption className='carousel-caption'>\r\n              <h2>\r\n                {product.name} - {product.price}\r\n              </h2>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      ))}\r\n    </Carousel>\r\n  )\r\n}\r\n\r\nexport default TopProducts\r\n","import React, { useEffect } from 'react'\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { listProducts } from '../redux/actions/product-actions'\r\n\r\n// Components\r\nimport Product from '../components/Product'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Paginate from '../components/Paginate'\r\nimport TopProducts from '../components/TopProducts'\r\n\r\nconst Home = ({ match }) => {\r\n  const keyword = match.params.keyword\r\n  const pageNumber = match.params.pageNumber || 1\r\n\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const { loading, products, pages, page, error } = useSelector(\r\n    state => state.productList\r\n  )\r\n\r\n  useEffect(() => {\r\n    dispatch(listProducts(keyword, pageNumber))\r\n    return () => {\r\n      dispatch({ type: 'PRODUCT_LIST_RESET' })\r\n    }\r\n  }, [dispatch, keyword, pageNumber])\r\n\r\n  return (\r\n    <>\r\n      {!keyword && <TopProducts />}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant='danger'>{error}</Message>\r\n      ) : (\r\n        <>\r\n          <h1>Latest Products</h1>\r\n          <Row>\r\n            {products.map(product => (\r\n              <Col sm={12} md={6} lg={4} xl={3} key={product.name}>\r\n                <Product product={product} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Paginate pages={pages} page={page} keyword={keyword} />\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  getProductDetails,\r\n  createProductReview,\r\n} from '../redux/actions/product-actions'\r\nimport { PRODUCT_DETAILS_RESET } from '../redux/constants'\r\n\r\n// Components\r\nimport Rating from '../components/Rating'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\n\r\nconst Product = ({ history, match }) => {\r\n  const [qty, setQty] = useState(1)\r\n  const [review, setReview] = useState({\r\n    rating: 0,\r\n    comment: '',\r\n  })\r\n\r\n  const { id } = useParams()\r\n\r\n  const dispatch = useDispatch()\r\n  const { userDetails } = useSelector(state => state.user)\r\n  const { loading, product, error } = useSelector(state => state.productDetails)\r\n  const { success: crSuccess, error: crError } = useSelector(\r\n    state => state.productReviewCreate\r\n  )\r\n\r\n  useEffect(() => {\r\n    dispatch(getProductDetails(id))\r\n    if (crSuccess) {\r\n      setReview({ rating: 0, comment: '' })\r\n      dispatch({ type: 'PRODUCT_REVIEW_CREATE_RESET' })\r\n    }\r\n    return () => {\r\n      dispatch({ type: PRODUCT_DETAILS_RESET })\r\n    }\r\n  }, [dispatch, id, crSuccess])\r\n\r\n  const addToCart = () => {\r\n    history.push(`/cart/${id}?qty=${qty}`)\r\n  }\r\n\r\n  const reviewForm = e => {\r\n    e.preventDefault()\r\n    dispatch(createProductReview(match.params.id, review))\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n    if (error) return <Message variant='danger'>{error}</Message>\r\n    return (\r\n      <>\r\n        <Row>\r\n          <Col md={12} lg={6}>\r\n            <Image\r\n              src={product.image}\r\n              alt={product.name}\r\n              fluid\r\n              style={{ width: '100%' }}\r\n            />\r\n          </Col>\r\n\r\n          <Col md={12} lg={3}>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h3>{product.name}</h3>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Rating\r\n                  value={product.rating}\r\n                  text={`${product.numReviews} reviews`}\r\n                />\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n              <ListGroup.Item>{product.description}</ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n\r\n          <Col md={12} lg={3}>\r\n            <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>\r\n                      <strong>${product.price}</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status:</Col>\r\n                    <Col>\r\n                      {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col style={{ display: 'flex', alignItems: 'center' }}>\r\n                        Quantity\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control\r\n                          as='select'\r\n                          value={qty}\r\n                          onChange={e => setQty(e.target.value)}\r\n                        >\r\n                          {[...Array(product.countInStock).keys()].map(x => (\r\n                            <option value={x + 1} key={x + 1}>\r\n                              {x + 1}\r\n                            </option>\r\n                          ))}\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                )}\r\n\r\n                <ListGroup.Item>\r\n                  <Button\r\n                    className='btn-block'\r\n                    type='button'\r\n                    disabled={product.countInStock === 0}\r\n                    onClick={addToCart}\r\n                  >\r\n                    Add To Cart\r\n                  </Button>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        {userDetails && (\r\n          <Row>\r\n            <Col md={6}>\r\n              <h2 style={{ marginTop: '20px' }}>Reviews</h2>\r\n              {product.reviews.length === 0 && (\r\n                <Message variant='info'>No reviews yet...</Message>\r\n              )}\r\n              <ListGroup variant='flush'>\r\n                {product.reviews.map(rev => (\r\n                  <ListGroup.Item key={rev._id} style={{ padding: '0px' }}>\r\n                    <strong>{rev.name}</strong>\r\n                    <Rating value={rev.rating} />\r\n                    <p>{rev.createdAt.substring(0, 10)}</p>\r\n                    <p>{rev.comment}</p>\r\n                  </ListGroup.Item>\r\n                ))}\r\n                <ListGroup.Item style={{ padding: '0px' }}>\r\n                  <h3 style={{ paddingTop: '10px' }}>Write a Review!</h3>\r\n                  {crError && <Message variant='danger'>{crError}</Message>}\r\n                  <Form onSubmit={reviewForm}>\r\n                    <Form.Group controlId='rating'>\r\n                      <Form.Label>Rating</Form.Label>\r\n                      <Form.Control\r\n                        as='select'\r\n                        value={review.rating}\r\n                        onChange={e =>\r\n                          setReview({ ...review, rating: e.target.value })\r\n                        }\r\n                      >\r\n                        <option value=''>Select a rating.</option>\r\n                        <option value='1'>1</option>\r\n                        <option value='2'>2</option>\r\n                        <option value='3'>3</option>\r\n                        <option value='4'>4</option>\r\n                        <option value='5'>5</option>\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group controlId='comment'>\r\n                      <Form.Label>Review</Form.Label>\r\n                      <Form.Control\r\n                        as='textarea'\r\n                        row='3'\r\n                        value={review.comment}\r\n                        placeholder='Review...'\r\n                        onChange={e =>\r\n                          setReview({ ...review, comment: e.target.value })\r\n                        }\r\n                      />\r\n                    </Form.Group>\r\n                    <Button type='submit' variant='primary'>\r\n                      Submit\r\n                    </Button>\r\n                  </Form>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Link className='btn btn-light my-3' to='/'>\r\n        Back\r\n      </Link>\r\n      {renderContent()}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","import axios from 'axios'\r\nimport {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_SAVE_PAYMENT_METHOD\r\n} from '../constants'\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n  const { data } = await axios.get(`/api/products/${id}`)\r\n\r\n  dispatch({\r\n    type: CART_ADD_ITEM,\r\n    payload: {\r\n      product: data._id,\r\n      name: data.name,\r\n      image: data.image,\r\n      price: data.price,\r\n      countInStock: data.countInStock,\r\n      qty\r\n    }\r\n  })\r\n\r\n  const cartItems = JSON.stringify(getState().cart.cartItems)\r\n  sessionStorage.setItem('cartItems', cartItems)\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n  dispatch({\r\n    type: CART_REMOVE_ITEM,\r\n    payload: id\r\n  })\r\n\r\n  const cartItems = JSON.stringify(getState().cart.cartItems)\r\n  sessionStorage.setItem('cartItems', cartItems)\r\n}\r\n\r\nexport const saveShippingAddress = (address) => (dispatch) => {\r\n  dispatch({\r\n    type: CART_SAVE_SHIPPING_ADDRESS,\r\n    payload: address\r\n  })\r\n\r\n  const shippingAddress = JSON.stringify(address)\r\n  sessionStorage.setItem('shippingAddress', shippingAddress)\r\n}\r\n\r\nexport const savePaymentMethod = (payment) => (dispatch) => {\r\n  dispatch({\r\n    type: CART_SAVE_PAYMENT_METHOD,\r\n    payload: payment\r\n  })\r\n\r\n  const paymentMethod = JSON.stringify(payment)\r\n  sessionStorage.setItem('paymentMethod', paymentMethod)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addToCart, removeFromCart } from '../redux/actions/cart-actions'\r\n\r\n// Components\r\nimport Message from '../components/Message'\r\n\r\nconst Cart = ({ location, history }) => {\r\n  const { id } = useParams()\r\n  const qty = location.search ? Number(location.search.split('=')[1]) : 1\r\n\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const { cartItems } = useSelector(state => state.cart)\r\n\r\n  useEffect(() => {\r\n    if (id) dispatch(addToCart(id, qty))\r\n  }, [dispatch, id, qty])\r\n\r\n  // Handlers\r\n  const removeFromCartHandler = productId => {\r\n    dispatch(removeFromCart(productId))\r\n  }\r\n\r\n  const checkoutHandler = () => {\r\n    history.push('/login?redirect=shipping')\r\n  }\r\n\r\n  // Render Functions\r\n  const renderCart = () => {\r\n    if (cartItems.length === 0)\r\n      return <Message>There's nothing here...</Message>\r\n\r\n    return (\r\n      <ListGroup variant='flush'>\r\n        {cartItems.map(item => (\r\n          <ListGroup.Item key={item.product}>\r\n            <Row>\r\n              <Col md={2}>\r\n                <Image src={item.image} alt={item.name} fluid rounded />\r\n              </Col>\r\n              <Col md={3}>\r\n                <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n              </Col>\r\n              <Col md={2}>${item.price}</Col>\r\n              <Col md={2}>\r\n                <Form.Control\r\n                  as='select'\r\n                  value={item.qty}\r\n                  onChange={e =>\r\n                    dispatch(addToCart(item.product, Number(e.target.value)))\r\n                  }\r\n                >\r\n                  {[...Array(item.countInStock).keys()].map(x => (\r\n                    <option value={x + 1} key={x + 1}>\r\n                      {x + 1}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Col>\r\n              <Col md={2}>\r\n                <Button\r\n                  type='button'\r\n                  variant='light'\r\n                  onClick={() => removeFromCartHandler(item.product)}\r\n                >\r\n                  <i className='fas fa-trash'></i>\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </ListGroup.Item>\r\n        ))}\r\n      </ListGroup>\r\n    )\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <Row>\r\n      <Col md={8}>\r\n        <h1>Cart</h1>\r\n        {renderCart()}\r\n      </Col>\r\n\r\n      <Col md={4}>\r\n        <Card>\r\n          <ListGroup variant='flush'>\r\n            <ListGroup.Item>\r\n              <h3>\r\n                Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})\r\n                Items\r\n              </h3>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              ${cartItems.reduce((acc, item) => acc + item.qty * item.price, 0)}\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Button\r\n                type='button'\r\n                className='btn-block'\r\n                disabled={cartItems.length === 0}\r\n                onClick={checkoutHandler}\r\n              >\r\n                Checkout\r\n              </Button>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst FormContainer = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <Row className='justify-content-md-center'>\r\n        <Col xs={12} md={6}>\r\n          {children}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FormContainer\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { login } from '../redux/actions/user-actions'\r\n\r\n// Components\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\n\r\nconst Login = ({ location, history }) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const { loading, userDetails, error } = useSelector(state => state.user)\r\n\r\n  useEffect(() => {\r\n    if (userDetails) history.push(redirect)\r\n    // cleanup state errors when leaving page\r\n  }, [history, userDetails, redirect])\r\n\r\n  const signIn = e => {\r\n    e.preventDefault()\r\n    dispatch(login(email, password))\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={signIn}>\r\n          <Form.Group controlId='email'>\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type='email'\r\n              placeholder='example@gmail.com'\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='password'>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type='password'\r\n              placeholder='**********'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Button type='submit' variant='primary'>\r\n            Sign In\r\n          </Button>\r\n        </Form>\r\n\r\n        <Row className='py-3'>\r\n          <Col>\r\n            Don't have an account?{' '}\r\n            <Link\r\n              to={redirect ? `/register?redirect=${redirect}` : '/register'}\r\n            >\r\n              Register here!\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Sign In</h1>\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {renderContent()}\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { register } from '../redux/actions/user-actions'\r\n\r\n// Components\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\n\r\nconst Register = ({ location, history }) => {\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirmPass, setConfirmPass] = useState('')\r\n  const [clientErr, setClientErr] = useState('')\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const { loading, userDetails, error } = useSelector(state => state.user)\r\n\r\n  useEffect(() => {\r\n    if (userDetails) history.push(redirect)\r\n    // cleanup state errors when leaving page\r\n  }, [history, userDetails, redirect])\r\n\r\n  const signUp = e => {\r\n    e.preventDefault()\r\n    setClientErr(null)\r\n    if (password !== confirmPass) return setClientErr('Passwords do not match.')\r\n    dispatch(register(name, email, password))\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={signUp}>\r\n          <Form.Group controlId='name'>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='Your Name'\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='email'>\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type='email'\r\n              placeholder='example@gmail.com'\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='password'>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type='password'\r\n              placeholder='**********'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='confirmPassword'>\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <Form.Control\r\n              type='password'\r\n              placeholder='**********'\r\n              value={confirmPass}\r\n              onChange={e => setConfirmPass(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Button type='submit' variant='primary'>\r\n            Sign Up\r\n          </Button>\r\n        </Form>\r\n\r\n        <Row className='py-3'>\r\n          <Col>\r\n            Already have an account?{' '}\r\n            <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n              Login here!\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Register</h1>\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {clientErr && <Message variant='danger'>{clientErr}</Message>}\r\n      {renderContent()}\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Row, Col, Form, Button, Table } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { update } from '../redux/actions/user-actions'\r\nimport { getOrders } from '../redux/actions/order-actions'\r\n\r\n// Components\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\n\r\nconst Profile = ({ history }) => {\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirmPass, setConfirmPass] = useState('')\r\n  const [clientErr, setClientErr] = useState('')\r\n\r\n  const dispatch = useDispatch()\r\n  const { loading, success, userDetails, error } = useSelector(\r\n    state => state.user\r\n  )\r\n  const { loading: ordersLoading, orders, error: ordersError } = useSelector(\r\n    state => state.orders\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!userDetails) return history.push('/')\r\n\r\n    setName(userDetails.name)\r\n    setEmail(userDetails.email)\r\n\r\n    dispatch(getOrders())\r\n\r\n    return () => {\r\n      // dispatch update cleanup\r\n    }\r\n  }, [userDetails, history, dispatch])\r\n\r\n  const updateProfile = e => {\r\n    e.preventDefault()\r\n    setClientErr(null)\r\n    if (password !== confirmPass) return setClientErr('Passwords do not match.')\r\n    dispatch(update(name, email, password))\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={updateProfile}>\r\n          <Form.Group controlId='name'>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='Your name...'\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='email'>\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type='email'\r\n              placeholder='example@gmail.com'\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='password'>\r\n            <Form.Label>Password Update</Form.Label>\r\n            <Form.Control\r\n              type='password'\r\n              placeholder='**********'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='confirmPassword'>\r\n            <Form.Label>Confirm Password Update</Form.Label>\r\n            <Form.Control\r\n              type='password'\r\n              placeholder='**********'\r\n              value={confirmPass}\r\n              onChange={e => setConfirmPass(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Button type='submit' variant='primary'>\r\n            Update Profile\r\n          </Button>\r\n        </Form>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3} style={{ marginBottom: '40px' }}>\r\n        <h2>My Profile</h2>\r\n        {error && <Message variant='danger'>{error}</Message>}\r\n        {success && (\r\n          <Message variant='success'>Profile updated successfully!</Message>\r\n        )}\r\n        {clientErr && <Message variant='danger'>{clientErr}</Message>}\r\n        {renderContent()}\r\n      </Col>\r\n\r\n      <Col md={9}>\r\n        <h2>My Orders</h2>\r\n        {ordersLoading ? (\r\n          <Loader />\r\n        ) : ordersError ? (\r\n          <Message variant='danger'>{ordersError}</Message>\r\n        ) : (\r\n          <Table bordered responsive className='table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Date</th>\r\n                <th>Total</th>\r\n                <th>Paid</th>\r\n                <th>Delivered</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map(order => (\r\n                <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>{order.createdAt}</td>\r\n                  <td>{order.totalPrice}</td>\r\n                  <td>\r\n                    {order.isPaid ? (\r\n                      order.paidAt.substring(0, 10)\r\n                    ) : (\r\n                      <i className='fas fa-times' style={{ color: 'red' }}></i>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    {order.isDelivered ? (\r\n                      order.deliveredAt.substring(0, 10)\r\n                    ) : (\r\n                      <i className='fas fa-times' style={{ color: 'red' }}></i>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <Button\r\n                      as={Link}\r\n                      to={`/order/${order._id}`}\r\n                      variant='light'\r\n                      className='btn-sm'\r\n                    >\r\n                      View Order\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import axios from 'axios'\r\nimport {\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_CREATE_ERROR,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_DETAILS_ERROR,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_PAY_ERROR,\r\n  ORDERS_USER_REQUEST,\r\n  ORDERS_USER_SUCCESS,\r\n  ORDERS_USER_ERROR\r\n} from '../constants'\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.post('/api/orders', order, reqConfig)\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: data })\r\n    dispatch({ type: 'CART_CLEAR_CART' })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: ORDER_CREATE_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.get(`/api/orders/${id}`, reqConfig)\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: ORDER_DETAILS_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const payOrder = (orderId, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.put(`/api/orders/${orderId}/pay`, paymentResult, reqConfig)\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: ORDER_PAY_ERROR, payload: message })\r\n  }\r\n}\r\n\r\nexport const getOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDERS_USER_REQUEST })\r\n    const reqConfig = {\r\n      headers: {\r\n        'Authorization': `Bearer ${getState().user.userDetails.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.get(`/api/orders`, reqConfig)\r\n    dispatch({ type: ORDERS_USER_SUCCESS, payload: data })\r\n  }\r\n\r\n  catch (err) {\r\n    const message = err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : err.message\r\n    dispatch({ type: ORDERS_USER_ERROR, payload: message })\r\n  }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Nav } from 'react-bootstrap'\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n  return (\r\n    <Nav className='justify-content-center mb-4'>\r\n      <Nav.Link as={Link} to='/shipping' disabled={!step1}>\r\n        Sign In\r\n      </Nav.Link>\r\n\r\n      <Nav.Link as={Link} to='/shipping' disabled={!step2}>\r\n        Shipping\r\n      </Nav.Link>\r\n\r\n      <Nav.Link as={Link} to='/payment' disabled={!step3}>\r\n        Payment\r\n      </Nav.Link>\r\n\r\n      <Nav.Link as={Link} to='/place-order' disabled={!step4}>\r\n        Place Order\r\n      </Nav.Link>\r\n    </Nav>\r\n  )\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { saveShippingAddress } from '../redux/actions/cart-actions'\r\n\r\n// Components\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\n\r\nconst Shipping = ({ history }) => {\r\n  // Shipping Address\r\n  const [shipping, setShipping] = useState({\r\n    address: '',\r\n    city: '',\r\n    postalCode: '',\r\n    country: '',\r\n  })\r\n\r\n  // Redux\r\n  const { shippingAddress } = useSelector(state => state.cart)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (shippingAddress) setShipping(shippingAddress)\r\n  }, [shippingAddress])\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault()\r\n    dispatch(saveShippingAddress(shipping))\r\n    history.push('/payment')\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 />\r\n      <h1>Shipping</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='address'>\r\n          <Form.Label>Address</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            required\r\n            placeholder='Ex. 159 Dundas St. East'\r\n            value={shipping.address}\r\n            onChange={e =>\r\n              setShipping({ ...shipping, address: e.target.value })\r\n            }\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='city'>\r\n          <Form.Label>City</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            required\r\n            placeholder='Ex. Toronto, ON'\r\n            value={shipping.city}\r\n            onChange={e => setShipping({ ...shipping, city: e.target.value })}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='postalCode'>\r\n          <Form.Label>Postal Code</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            required\r\n            placeholder='Ex. M5B 0A9'\r\n            value={shipping.postalCode}\r\n            onChange={e =>\r\n              setShipping({ ...shipping, postalCode: e.target.value })\r\n            }\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='country'>\r\n          <Form.Label>Country</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            required\r\n            placeholder='Ex. Canada'\r\n            value={shipping.country}\r\n            onChange={e =>\r\n              setShipping({ ...shipping, country: e.target.value })\r\n            }\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default Shipping\r\n","import React, { useState } from 'react'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { savePaymentMethod } from '../redux/actions/cart-actions'\r\n\r\n// Components\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\n\r\nconst Payment = ({ history }) => {\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal')\r\n\r\n  // Redux\r\n  const { shippingAddress } = useSelector(state => state.cart)\r\n  const dispatch = useDispatch()\r\n\r\n  if (!shippingAddress) history.push('/shipping')\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault()\r\n    dispatch(savePaymentMethod(paymentMethod))\r\n    history.push('/place-order')\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <h1>Payment Method</h1>\r\n\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group>\r\n          <Form.Label as='legend'>Select Payment Method</Form.Label>\r\n          <Col>\r\n            <Form.Check\r\n              type='radio'\r\n              label='PayPal or Credit Card'\r\n              id='PayPal'\r\n              name='paymentMethod'\r\n              value='PayPal'\r\n              checked\r\n              onChange={e => setPaymentMethod(e.target.value)}\r\n            ></Form.Check>\r\n\r\n            <Form.Check\r\n              type='radio'\r\n              label='Stripe (Coming Soon)'\r\n              id='Stripe'\r\n              name='paymentMethod'\r\n              value='Stripe'\r\n              disabled\r\n              onChange={e => setPaymentMethod(e.target.value)}\r\n            ></Form.Check>\r\n          </Col>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default Payment\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  Image,\r\n  Card,\r\n  Spinner,\r\n} from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createOrder } from '../redux/actions/order-actions'\r\n\r\n// Components\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport Message from '../components/Message'\r\n\r\nconst PlaceOrder = ({ history }) => {\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const cart = useSelector(state => state.cart)\r\n\r\n  cart.itemsPrice = cart.cartItems.reduce(\r\n    (acc, item) => acc + item.price * item.qty,\r\n    0\r\n  )\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? 0 : 20\r\n  cart.taxPrice = Number((cart.itemsPrice + cart.shippingPrice) * 0.13).toFixed(\r\n    2\r\n  )\r\n  cart.totalPrice = (\r\n    cart.itemsPrice +\r\n    cart.shippingPrice +\r\n    Number(cart.taxPrice)\r\n  ).toFixed(2)\r\n\r\n  const { order, success, loading, error } = useSelector(\r\n    state => state.orderCreate\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (success) history.push(`/order/${order._id}`)\r\n    // eslint-disable-next-line\r\n  }, [history, success])\r\n\r\n  const placeOrderHandler = () => {\r\n    dispatch(createOrder(cart))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CheckoutSteps step1 step2 step3 step4 />\r\n      <Row>\r\n        <Col md={8}>\r\n          <ListGroup variant='flush'>\r\n            <ListGroup.Item>\r\n              <h2>Shipping</h2>\r\n              <div>\r\n                <span style={{ fontWeight: 'bold' }}>Address: </span>\r\n                {cart.shippingAddress.address}, {cart.shippingAddress.city},{' '}\r\n                {cart.shippingAddress.postalCode},{' '}\r\n                {cart.shippingAddress.country}\r\n              </div>\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <h2>Payment Method</h2>\r\n              <div>\r\n                <span style={{ fontWeight: 'bold' }}>Method: </span>\r\n                {cart.paymentMethod}\r\n              </div>\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <h2>Order Item(s)</h2>\r\n              <ListGroup variant='flush'>\r\n                {cart.cartItems.map((item, index) => (\r\n                  <ListGroup.Item key={index}>\r\n                    <Row style={{ alignItems: 'center' }}>\r\n                      <Col md={2}>\r\n                        <Image src={item.image} alt={item.name} fluid rounded />\r\n                      </Col>\r\n                      <Col>\r\n                        <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={4}>\r\n                        {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h2>Order Summary</h2>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Items</Col>\r\n                  <Col>${cart.itemsPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Shipping</Col>\r\n                  <Col>${cart.shippingPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Tax</Col>\r\n                  <Col>${cart.taxPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Total</Col>\r\n                  <Col>${cart.totalPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n\r\n              {error && (\r\n                <ListGroup.Item>\r\n                  <Message variant='danger' noMargin>\r\n                    {error}\r\n                  </Message>\r\n                </ListGroup.Item>\r\n              )}\r\n\r\n              <ListGroup.Item>\r\n                {!loading ? (\r\n                  <Button\r\n                    type='button'\r\n                    className='btn-block'\r\n                    disabled={cart.cartItems.length === 0}\r\n                    onClick={placeOrderHandler}\r\n                  >\r\n                    Place Order\r\n                  </Button>\r\n                ) : (\r\n                  <Spinner\r\n                    animation='border'\r\n                    style={{ display: 'block', margin: 'auto' }}\r\n                  />\r\n                )}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PlaceOrder\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOrderDetails, payOrder } from '../redux/actions/order-actions'\r\nimport { ORDER_PAY_RESET } from '../redux/constants'\r\n\r\n// Components\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport axios from 'axios'\r\n\r\nconst Order = ({ match }) => {\r\n  const orderId = match.params.id\r\n  const [sdkReady, setSdkReady] = useState(false)\r\n\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const { loading, order, error } = useSelector(state => state.orderDetails)\r\n  const { loading: loadingPay, success: successPay } = useSelector(\r\n    state => state.orderPay\r\n  )\r\n\r\n  if (order) {\r\n    order.itemsPrice = order.orderItems.reduce(\r\n      (acc, item) => acc + item.price * item.qty,\r\n      0\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!order || order._id !== orderId || successPay) {\r\n      dispatch({ type: ORDER_PAY_RESET })\r\n      dispatch(getOrderDetails(orderId))\r\n    } else if (!order.isPaid) {\r\n      if (!window.paypal) addPayPalScript()\r\n      else setSdkReady(true)\r\n    }\r\n  }, [orderId, dispatch, order, successPay])\r\n\r\n  const addPayPalScript = async () => {\r\n    const { data: clientId } = await axios.get('/api/config/paypal')\r\n    const script = document.createElement('script')\r\n    script.type = 'text/javascript'\r\n    script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n    script.async = true\r\n    script.onload = () => setSdkReady(true)\r\n    document.body.appendChild(script)\r\n  }\r\n\r\n  const successPaymentHandler = paymentResult => {\r\n    console.log(paymentResult)\r\n    dispatch(payOrder(orderId, paymentResult))\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n    if (error) return <Message variant='danger'>{error}</Message>\r\n\r\n    return (\r\n      <>\r\n        <h1 className='py-3'>Order {order._id}</h1>\r\n        <Row>\r\n          <Col md={8}>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h2>Shipping</h2>\r\n                <div>\r\n                  <span style={{ fontWeight: 'bold' }}>Name: </span>\r\n                  {order.user.name}\r\n                </div>\r\n                <div>\r\n                  <span style={{ fontWeight: 'bold' }}>Email: </span>\r\n                  {order.user.email}\r\n                </div>\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <span style={{ fontWeight: 'bold' }}>Address: </span>\r\n                  {order.shippingAddress.address}, {order.shippingAddress.city},{' '}\r\n                  {order.shippingAddress.postalCode},{' '}\r\n                  {order.shippingAddress.country}\r\n                </div>\r\n                {order.isDelivered ? (\r\n                  <Message variant='success' noMargin>\r\n                    Order successfully delivered on: {order.deliveredAt}\r\n                  </Message>\r\n                ) : (\r\n                  <Message variant='warning' noMargin>\r\n                    Order not yet delivered.\r\n                  </Message>\r\n                )}\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <h2>Payment Method</h2>\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <span style={{ fontWeight: 'bold' }}>Method: </span>\r\n                  {order.paymentMethod}\r\n                </div>\r\n                {order.isPaid ? (\r\n                  <Message variant='success' noMargin>\r\n                    Order successfully paid at: {order.paidAt}\r\n                  </Message>\r\n                ) : (\r\n                  <Message variant='warning' noMargin>\r\n                    Order not yet paid.\r\n                  </Message>\r\n                )}\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <h2>Order Item(s)</h2>\r\n                <ListGroup variant='flush'>\r\n                  {order.orderItems.map((item, index) => (\r\n                    <ListGroup.Item key={index}>\r\n                      <Row style={{ alignItems: 'center' }}>\r\n                        <Col md={2}>\r\n                          <Image\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            fluid\r\n                            rounded\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={4}>\r\n            <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h2>Order Summary</h2>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Items</Col>\r\n                    <Col>${order.itemsPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Shipping</Col>\r\n                    <Col>${order.shippingPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Tax</Col>\r\n                    <Col>${order.taxPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Total</Col>\r\n                    <Col>${order.totalPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                {!order.isPaid && (\r\n                  <ListGroup.Item>\r\n                    {loadingPay && <Loader />}\r\n                    {!sdkReady ? (\r\n                      <Loader />\r\n                    ) : (\r\n                      <PayPalButton\r\n                        amount={order.totalPrice}\r\n                        onSuccess={successPaymentHandler}\r\n                      />\r\n                    )}\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return renderContent()\r\n}\r\n\r\nexport default Order\r\n","import React, { useEffect } from 'react'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUsers, deleteUser } from '../../redux/actions/user-actions'\r\n\r\n// Components\r\nimport Loader from '../../components/Loader'\r\nimport Message from '../../components/Message'\r\n\r\nconst Users = ({ history }) => {\r\n  // Redux\r\n  const dispatch = useDispatch()\r\n  const { loading, users, error } = useSelector(state => state.usersList)\r\n  const { userDetails } = useSelector(state => state.user)\r\n  const { success } = useSelector(state => state.userDelete)\r\n\r\n  useEffect(() => {\r\n    if (userDetails && userDetails.isAdmin) {\r\n      dispatch(getUsers())\r\n    } else {\r\n      history.push('/login')\r\n    }\r\n  }, [dispatch, history, userDetails, success])\r\n\r\n  const deleteUserHandler = id => {\r\n    if (window.confirm(`Are you sure you want to delete user ${id}?`)) {\r\n      dispatch(deleteUser(id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>User List</h1>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant='danger'>{error}</Message>\r\n      ) : (\r\n        <Table bordered responsive className='table-sm'>\r\n          <thead>\r\n            <tr>\r\n              <th>User Id</th>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Admin</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map(user => (\r\n              <tr key={user._id}>\r\n                <td>{user._id}</td>\r\n                <td>{user.name}</td>\r\n                <td>{user.email}</td>\r\n                <td>\r\n                  {user.isAdmin ? (\r\n                    <i className='fas fa-check' style={{ color: 'green' }}></i>\r\n                  ) : (\r\n                    <i className='fas fa-times' style={{ color: 'red' }}></i>\r\n                  )}\r\n                </td>\r\n                <td>\r\n                  <Button\r\n                    as={Link}\r\n                    to={`/admin/users/${user._id}/edit`}\r\n                    variant='light'\r\n                    className='btn-sm'\r\n                  >\r\n                    <i className='fas fa-edit'></i>\r\n                  </Button>\r\n                  <Button\r\n                    variant='danger'\r\n                    className='btn-sm'\r\n                    onClick={() => deleteUserHandler(user._id)}\r\n                  >\r\n                    <i className='fas fa-trash'></i>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\n// Redux\r\nimport { useSelector } from 'react-redux'\r\n\r\n// Components\r\nimport Message from '../../components/Message'\r\nimport Loader from '../../components/Loader'\r\nimport FormContainer from '../../components/FormContainer'\r\n\r\nconst UserEdit = ({ match }) => {\r\n  // Form Fields\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [isAdmin, setIsAdmin] = useState('')\r\n\r\n  // Update State\r\n  const [loading, setLoading] = useState(false)\r\n  const [success, setSuccess] = useState(false)\r\n  const [error, setError] = useState()\r\n\r\n  // Logged In User Details\r\n  const { userDetails } = useSelector(state => state.user)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios\r\n      .get(`/api/users/${match.params.id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${userDetails.token}`,\r\n        },\r\n      })\r\n      .then(user => {\r\n        setName(user.data.name)\r\n        setEmail(user.data.email)\r\n        setIsAdmin(user.data.isAdmin)\r\n        setLoading(false)\r\n      })\r\n      .catch(err => {\r\n        setError(err)\r\n        setLoading(false)\r\n      })\r\n  }, [match.params.id, userDetails.token])\r\n\r\n  const updateHandler = e => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    const payload = { name, email, isAdmin }\r\n    axios\r\n      .put(`/api/users/${match.params.id}`, payload, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${userDetails.token}`,\r\n        },\r\n      })\r\n      .then(res => {\r\n        setLoading(false)\r\n        setSuccess(true)\r\n      })\r\n      .catch(err => {\r\n        setError(err)\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={updateHandler}>\r\n          <Form.Group controlId='name'>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='Username'\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='email'>\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type='email'\r\n              placeholder='example@gmail.com'\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='isAdmin'>\r\n            <Form.Check\r\n              type='checkbox'\r\n              label='Is Admin'\r\n              checked={isAdmin}\r\n              onChange={e => setIsAdmin(e.target.checked)}\r\n            ></Form.Check>\r\n          </Form.Group>\r\n\r\n          <Button as={Link} to='/admin/users' className='mr-3 btn-light'>\r\n            Back\r\n          </Button>\r\n          <Button type='submit' variant='primary'>\r\n            Update User\r\n          </Button>\r\n        </Form>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Update User</h1>\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {success && <Message>User {name} updated successfully!</Message>}\r\n      {renderContent()}\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default UserEdit\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table, Button, Row, Col } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  listProducts,\r\n  deleteProduct,\r\n} from '../../redux/actions/product-actions'\r\n\r\n// Components\r\nimport Loader from '../../components/Loader'\r\nimport Message from '../../components/Message'\r\nimport Paginate from '../../components/Paginate'\r\n\r\nconst Products = ({ history, match }) => {\r\n  const dispatch = useDispatch()\r\n  const { loading, products, page, pages, error } = useSelector(\r\n    state => state.productList\r\n  )\r\n  const { success, loading: deleteLoading, error: deleteError } = useSelector(\r\n    state => state.productDelete\r\n  )\r\n  const { userDetails } = useSelector(state => state.user)\r\n  const [createError, setCreateError] = useState()\r\n  const pageNumber = match.params.pageNumber || 1\r\n\r\n  useEffect(() => {\r\n    if (userDetails && userDetails.isAdmin) {\r\n      dispatch(listProducts('', pageNumber))\r\n    } else {\r\n      history.push('/login')\r\n    }\r\n  }, [dispatch, history, userDetails, success, pageNumber])\r\n\r\n  const createProductHandler = () => {\r\n    axios\r\n      .post(\r\n        '/api/products',\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${userDetails.token}`,\r\n          },\r\n        }\r\n      )\r\n      .then(res => history.push(`/admin/products/${res.data._id}/edit`))\r\n      .catch(err => setCreateError(err))\r\n  }\r\n\r\n  const deleteProductHandler = id => {\r\n    if (window.confirm(`Are you sure you want to delete product ${id}?`)) {\r\n      dispatch(deleteProduct(id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row className='align-items-center'>\r\n        <Col>\r\n          <h1>Product List</h1>\r\n        </Col>\r\n        <Col className='text-right'>\r\n          <Button className='my-3' onClick={createProductHandler}>\r\n            <i className='fas fa-plus'></i> Add Product\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      {loading || deleteLoading ? (\r\n        <Loader />\r\n      ) : error || deleteError || createError ? (\r\n        <Message variant='danger'>\r\n          {error || deleteError || createError}\r\n        </Message>\r\n      ) : (\r\n        <>\r\n          <Table bordered responsive className='table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Product Id</th>\r\n                <th>Name</th>\r\n                <th>Price</th>\r\n                <th>Category</th>\r\n                <th>Brand</th>\r\n                <th>Stock</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map(product => (\r\n                <tr key={product._id}>\r\n                  <td>{product._id}</td>\r\n                  <td>{product.name}</td>\r\n                  <td>${product.price}</td>\r\n                  <td>{product.category}</td>\r\n                  <td>{product.brand}</td>\r\n                  <td>{product.countInStock}</td>\r\n                  <td>\r\n                    <Button\r\n                      as={Link}\r\n                      to={`/admin/products/${product._id}/edit`}\r\n                      variant='light'\r\n                      className='btn-sm'\r\n                    >\r\n                      <i className='fas fa-edit'></i>\r\n                    </Button>\r\n                    <Button\r\n                      variant='danger'\r\n                      className='btn-sm'\r\n                      onClick={() => deleteProductHandler(product._id)}\r\n                    >\r\n                      <i className='fas fa-trash'></i>\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          <Paginate pages={pages} page={page} isAdmin={true} />\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Products\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\n// Redux\r\nimport { useSelector } from 'react-redux'\r\n\r\n// Components\r\nimport Message from '../../components/Message'\r\nimport Loader from '../../components/Loader'\r\nimport FormContainer from '../../components/FormContainer'\r\n\r\nconst ProductEdit = ({ match }) => {\r\n  // Form Fields\r\n  const [product, setProduct] = useState({\r\n    name: '',\r\n    price: '',\r\n    image: '',\r\n    brand: '',\r\n    category: '',\r\n    description: '',\r\n    countInStock: '',\r\n  })\r\n\r\n  // Update State\r\n  const [loading, setLoading] = useState(false)\r\n  const [uploading, setUploading] = useState(false)\r\n  const [success, setSuccess] = useState(false)\r\n  const [error, setError] = useState()\r\n\r\n  // Logged In User Details\r\n  const { userDetails } = useSelector(state => state.user)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios\r\n      .get(`/api/products/${match.params.id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${userDetails.token}`,\r\n        },\r\n      })\r\n      .then(res => {\r\n        setProduct({\r\n          ...product,\r\n          name: res.data.name,\r\n          price: res.data.price,\r\n          image: res.data.image,\r\n          brand: res.data.brand,\r\n          category: res.data.category,\r\n          description: res.data.description,\r\n          countInStock: res.data.countInStock,\r\n        })\r\n        setLoading(false)\r\n      })\r\n      .catch(err => {\r\n        setError(err)\r\n        setLoading(false)\r\n      })\r\n    // eslint-disable-next-line\r\n  }, [match.params.id, userDetails.token])\r\n\r\n  const updateHandler = e => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    axios\r\n      .put(`/api/products/${match.params.id}`, product, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${userDetails.token}`,\r\n        },\r\n      })\r\n      .then(res => {\r\n        setLoading(false)\r\n        setSuccess(true)\r\n      })\r\n      .catch(err => {\r\n        setError(err)\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const uploadFileHandler = async e => {\r\n    const file = e.target.files[0]\r\n    const formData = new FormData()\r\n    formData.append('image', file)\r\n\r\n    try {\r\n      setUploading(true)\r\n      const config = {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      }\r\n\r\n      const { data } = await axios.post('/api/products/image', formData, config)\r\n      setProduct({ ...product, image: data })\r\n      setUploading(false)\r\n    } catch (err) {\r\n      console.error(err)\r\n      setUploading(false)\r\n    }\r\n  }\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <Loader />\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={updateHandler}>\r\n          <Form.Group controlId='name'>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              value={product.name}\r\n              onChange={e => setProduct({ ...product, name: e.target.value })}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='price'>\r\n            <Form.Label>Price</Form.Label>\r\n            <Form.Control\r\n              type='number'\r\n              value={product.price}\r\n              onChange={e => setProduct({ ...product, price: e.target.value })}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='image'>\r\n            <Form.Label>Image</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              value={product.image}\r\n              onChange={e => setProduct({ ...product, image: e.target.value })}\r\n            ></Form.Control>\r\n            <Form.File\r\n              id='image-file'\r\n              label='Choose File'\r\n              custom\r\n              onChange={uploadFileHandler}\r\n            ></Form.File>\r\n            {uploading && <Loader />}\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='brand'>\r\n            <Form.Label>Brand</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              value={product.brand}\r\n              onChange={e => setProduct({ ...product, brand: e.target.value })}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='category'>\r\n            <Form.Label>Category</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              value={product.category}\r\n              onChange={e =>\r\n                setProduct({ ...product, category: e.target.value })\r\n              }\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='desc'>\r\n            <Form.Label>Description</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              value={product.description}\r\n              onChange={e =>\r\n                setProduct({ ...product, description: e.target.value })\r\n              }\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='stock'>\r\n            <Form.Label>Stock Count</Form.Label>\r\n            <Form.Control\r\n              type='number'\r\n              value={product.countInStock}\r\n              onChange={e =>\r\n                setProduct({ ...product, countInStock: e.target.value })\r\n              }\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Button as={Link} to='/admin/products' className='mr-3 btn-light'>\r\n            Back\r\n          </Button>\r\n          <Button type='submit' variant='primary'>\r\n            Update Product\r\n          </Button>\r\n        </Form>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Update Product</h1>\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {success && (\r\n        <Message>Product {product.name} updated successfully!</Message>\r\n      )}\r\n      {renderContent()}\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default ProductEdit\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Table } from 'react-bootstrap'\r\n\r\n// Redux\r\nimport { useSelector } from 'react-redux'\r\n\r\n// Components\r\nimport Loader from '../../components/Loader'\r\nimport Message from '../../components/Message'\r\n\r\nconst Orders = ({ history }) => {\r\n  const [orders, setOrders] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState()\r\n\r\n  const { userDetails } = useSelector(state => state.user)\r\n\r\n  useEffect(() => {\r\n    if (!userDetails || !userDetails.isAdmin) history.push('/login')\r\n\r\n    setLoading(true)\r\n    const config = {\r\n      headers: { Authorization: `Bearer: ${userDetails.token}` },\r\n    }\r\n    axios\r\n      .get('/api/orders/all', config)\r\n      .then(res => {\r\n        setOrders(res.data)\r\n        setLoading(false)\r\n      })\r\n      .catch(err => {\r\n        setError(err)\r\n        setLoading(false)\r\n      })\r\n  }, [history, userDetails])\r\n\r\n  return (\r\n    <>\r\n      <h1>Order List</h1>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant='danger'>{error.message}</Message>\r\n      ) : (\r\n        <Table bordered responsive className='table-sm'>\r\n          <thead>\r\n            <tr>\r\n              <th>Order Id</th>\r\n              <th>Customer</th>\r\n              <th>Shipping Address</th>\r\n              <th>Total Price</th>\r\n              <th>Payment Method</th>\r\n              <th>Paid At</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.user.email}</td>\r\n                <td>{order.shippingAddress.address}</td>\r\n                <td>${order.totalPrice}</td>\r\n                <td>{order.paymentMethod}</td>\r\n                <td>{order.paidAt ? order.paidAt : 'Not Paid'}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Orders\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { Container } from 'react-bootstrap'\r\n\r\n// Components\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\n\r\n// Screens\r\nimport Home from './views/home-view'\r\nimport Product from './views/product-view'\r\nimport Cart from './views/cart-view'\r\nimport Login from './views/login-view'\r\nimport Register from './views/register-view'\r\nimport Profile from './views/profile-view'\r\nimport Shipping from './views/shipping-view'\r\nimport Payment from './views/payment-view'\r\nimport PlaceOrder from './views/place-order-view'\r\nimport Order from './views/order-screen'\r\nimport Users from './views/admin/users-view'\r\nimport UserEdit from './views/admin/user-edit'\r\nimport Products from './views/admin/products-view'\r\nimport ProductEdit from './views/admin/product-edit'\r\nimport Orders from './views/admin/orders-view'\r\n\r\n/*****************************************************************\r\n * NOTE: This project was created by loosly following a tutorial.\r\n * There is a lot of code I dont agree with but I dont plan on\r\n * changing it as this was a learning project.\r\n ****************************************************************/\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      <Container className='py-3 main-content'>\r\n        <Switch>\r\n          <Route exact path='/' component={Home} />\r\n          <Route exact path='/search/:keyword' component={Home} />\r\n          <Route exact path='/page/:pageNumber' component={Home} />\r\n          <Route\r\n            exact\r\n            path='/search/:keyword/page/:pageNumber'\r\n            component={Home}\r\n          />\r\n          <Route path='/login' component={Login} />\r\n          <Route path='/register' component={Register} />\r\n          <Route path='/profile' component={Profile} />\r\n          <Route path='/product/:id' component={Product} />\r\n          <Route path='/cart/:id?' component={Cart} />\r\n          <Route path='/shipping' component={Shipping} />\r\n          <Route path='/payment' component={Payment} />\r\n          <Route path='/place-order' component={PlaceOrder} />\r\n          <Route path='/order/:id' component={Order} />\r\n          <Route exact path='/admin/users' component={Users} />\r\n          <Route path='/admin/users/:id/edit' component={UserEdit} />\r\n          <Route\r\n            exact\r\n            path='/admin/products/:pageNumber?'\r\n            component={Products}\r\n          />\r\n          <Route path='/admin/products/:id/edit' component={ProductEdit} />\r\n          <Route exact path='/admin/orders' component={Orders} />\r\n        </Switch>\r\n      </Container>\r\n      <Footer />\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_CREATE_ERROR,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_DETAILS_ERROR,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_PAY_ERROR,\r\n  ORDER_PAY_RESET,\r\n  ORDERS_USER_REQUEST,\r\n  ORDERS_USER_SUCCESS,\r\n  ORDERS_USER_ERROR\r\n} from '../constants'\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return { loading: true }\r\n\r\n    case ORDER_CREATE_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n        order: action.payload\r\n      }\r\n\r\n    case ORDER_CREATE_ERROR:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst orderDetailsInitState = {\r\n  loading: true,\r\n  orderItems: [],\r\n  shippingAddress: {}\r\n}\r\n\r\nexport const orderDetailsReducer = (state = orderDetailsInitState, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        order: action.payload\r\n      }\r\n\r\n    case ORDER_DETAILS_ERROR:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n\r\n    case ORDER_PAY_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true\r\n      }\r\n\r\n    case ORDER_PAY_ERROR:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n\r\n    case ORDER_PAY_RESET:\r\n      return {}\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const ordersReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDERS_USER_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n\r\n    case ORDERS_USER_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        orders: action.payload,\r\n      }\r\n\r\n    case ORDERS_USER_ERROR:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\n// Reducers\r\nimport { productListReducer, productDetailsReducer, productDeleteReducer, productReviewCreateReducer } from './reducers/product-reducers'\r\nimport { cartReducer } from './reducers/cart-reducers'\r\nimport { userDeleteReducer, userListReducer, userReducer } from './reducers/user-reducers'\r\nimport { orderCreateReducer, orderDetailsReducer, orderPayReducer, ordersReducer } from './reducers/order-reducers'\r\n\r\nconst reducer = combineReducers({\r\n  // key here is actual variable name of the state\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  productDelete: productDeleteReducer,\r\n  productReviewCreate: productReviewCreateReducer,\r\n  cart: cartReducer,\r\n  user: userReducer,\r\n  usersList: userListReducer,\r\n  userDelete: userDeleteReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderPay: orderPayReducer,\r\n  orders: ordersReducer\r\n})\r\n\r\nconst cartItemsFromSessionStorage = sessionStorage.getItem('cartItems')\r\n  ? JSON.parse(sessionStorage.getItem('cartItems'))\r\n  : []\r\n\r\nconst userFromSessionStorage = sessionStorage.getItem('userDetails')\r\n  ? JSON.parse(sessionStorage.getItem('userDetails'))\r\n  : null\r\n\r\nconst shippingAddressFromSessionStorage = sessionStorage.getItem('shippingAddress')\r\n  ? JSON.parse(sessionStorage.getItem('shippingAddress'))\r\n  : {}\r\n\r\nconst paymentMethodFromSessionStorage = sessionStorage.getItem('paymentMethod')\r\n  ? JSON.parse(sessionStorage.getItem('paymentMethod'))\r\n  : {}\r\n\r\nconst initialState = {\r\n  cart: {\r\n    cartItems: cartItemsFromSessionStorage,\r\n    shippingAddress: shippingAddressFromSessionStorage,\r\n    paymentMethod: paymentMethodFromSessionStorage\r\n  },\r\n  user: { userDetails: userFromSessionStorage },\r\n}\r\n\r\nconst middleware = [thunk]\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middleware)))\r\n\r\nexport default store","import {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_ERROR,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_ERROR,\r\n  PRODUCT_DETAILS_RESET,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_ERROR,\r\n  PRODUCT_DELETE_REQUEST,\r\n} from '../constants'\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { loading: true, products: [] }\r\n\r\n    case PRODUCT_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        products: action.payload.products,\r\n        pages: action.payload.pages,\r\n        page: action.payload.page\r\n      }\r\n\r\n    case PRODUCT_LIST_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    case 'PRODUCT_LIST_RESET':\r\n      return { products: [] }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const productDetailsReducer = (state = { product: { reviews: [] } }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true, ...state }\r\n\r\n    case PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload }\r\n\r\n    case PRODUCT_DETAILS_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    case PRODUCT_DETAILS_RESET:\r\n      return { product: { reviews: [] } }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_DELETE_REQUEST:\r\n      return { loading: true }\r\n\r\n    case PRODUCT_DELETE_SUCCESS:\r\n      return { loading: false, success: true }\r\n\r\n    case PRODUCT_DELETE_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'PRODUCT_REVIEW_CREATE_REQUEST':\r\n      return { loading: true }\r\n\r\n    case 'PRODUCT_REVIEW_CREATE_SUCCESS':\r\n      return { loading: false, success: true }\r\n\r\n    case 'PRODUCT_REVIEW_CREATE_ERROR':\r\n      return { loading: false, error: action.payload }\r\n\r\n    case 'PRODUCT_REVIEW_CREATE_RESET':\r\n      return {}\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_SAVE_SHIPPING_ADDRESS\r\n} from '../constants'\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingAddress: {} }, action) => {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload\r\n      const itemAlreadyInCart = state.cartItems.find(x => x.product === item.product)\r\n\r\n      if (itemAlreadyInCart) {\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.map(x => x.product === itemAlreadyInCart.product ? item : x)\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          cartItems: [...state.cartItems, item]\r\n        }\r\n      }\r\n\r\n    case CART_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter(x => x.product !== action.payload)\r\n      }\r\n\r\n    case CART_SAVE_SHIPPING_ADDRESS:\r\n      return {\r\n        ...state,\r\n        shippingAddress: action.payload\r\n      }\r\n\r\n    case CART_SAVE_PAYMENT_METHOD:\r\n      return {\r\n        ...state,\r\n        paymentMethod: action.payload\r\n      }\r\n\r\n    case 'CART_CLEAR_CART':\r\n      return {\r\n        cartItems: [], shippingAddress: {}\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import {\r\n  USER_LOGIN_ERROR,\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_ERROR,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_ERROR,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_ERROR,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DELETE_ERROR\r\n} from '../constants'\r\n\r\nexport const userReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    // LOGIN\r\n    case USER_LOGIN_REQUEST:\r\n      return { loading: true }\r\n\r\n    case USER_LOGIN_SUCCESS:\r\n      return { loading: false, userDetails: action.payload }\r\n\r\n    case USER_LOGIN_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    // REGISTER \r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true }\r\n\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userDetails: action.payload }\r\n\r\n    case USER_REGISTER_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    // UPDATE \r\n    case USER_UPDATE_REQUEST:\r\n      return { ...state, loading: true }\r\n\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, success: true, userDetails: action.payload }\r\n\r\n    case USER_UPDATE_ERROR:\r\n      return { ...state, loading: false, error: action.payload }\r\n\r\n    // LOGOUT\r\n    case USER_LOGOUT:\r\n      return {}\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n  switch (action.type) {\r\n    case USER_LIST_REQUEST:\r\n      return { loading: true }\r\n\r\n    case USER_LIST_SUCCESS:\r\n      return { loading: false, users: action.payload }\r\n\r\n    case USER_LIST_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_DELETE_REQUEST:\r\n      return { loading: true }\r\n\r\n    case USER_DELETE_SUCCESS:\r\n      return { loading: false, success: true }\r\n\r\n    case USER_DELETE_ERROR:\r\n      return { loading: false, error: action.payload }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\n\n// CSS\nimport './bootstrap.min.css'\nimport './index.css'\n\n// App\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\n// Redux Stuff\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}